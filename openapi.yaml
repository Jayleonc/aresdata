# Generated with protoc-gen-openapi
# https://github.com/google/gnostic/tree/master/cmd/protoc-gen-openapi

openapi: 3.0.3
info:
    title: VideoRank API
    description: VideoRank 提供榜单视频排名查询服务
    version: 0.0.1
paths:
    /v1/video_rank:
        post:
            tags:
                - VideoRank
            description: 查询单个视频榜单信息
            operationId: VideoRank_GetVideoRank
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/.VideoRankQueryRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/.VideoRankQueryResponse'
    /v1/video_rank/list:
        post:
            tags:
                - VideoRank
            description: 分页查询视频榜单信息
            operationId: VideoRank_ListVideoRank
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/.ListVideoRankRequest'
                required: true
            responses:
                "200":
                    description: OK
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/.ListVideoRankResponse'
components:
    schemas:
        .ListVideoRankRequest:
            type: object
            properties:
                page:
                    allOf:
                        - $ref: '#/components/schemas/.PageRequest'
                    description: 嵌入分页请求
                rankType:
                    type: string
                    description: 排名类型，例如"day", "week", "month"
                rankDate:
                    type: string
                    description: 排名日期，格式如"20250716"
            description: 分页查询请求
        .ListVideoRankResponse:
            type: object
            properties:
                page:
                    allOf:
                        - $ref: '#/components/schemas/.PageResponse'
                    description: 嵌入分页响应
                ranks:
                    type: array
                    items:
                        $ref: '#/components/schemas/.VideoRankDTO'
                    description: 视频榜单信息列表
            description: 分页查询响应
        .PageRequest:
            type: object
            properties:
                page:
                    type: string
                size:
                    type: string
            description: 分页请求
        .PageResponse:
            type: object
            properties:
                total:
                    type: string
            description: 分页响应
        .VideoRankDTO:
            type: object
            properties:
                id:
                    type: string
                    description: 主键ID
                createdAt:
                    type: string
                    description: 创建时间
                    format: date-time
                rankNum:
                    type: integer
                    description: |-
                        榜单核心
                         榜单排名
                    format: int32
                periodType:
                    type: string
                    description: 榜单周期类型，如日榜、周榜
                rankDate:
                    type: string
                    description: 榜单日期
                startDate:
                    type: string
                    description: 榜单开始日期
                endDate:
                    type: string
                    description: 榜单结束日期
                awemeId:
                    type: string
                    description: |-
                        视频信息
                         抖音视频ID
                awemeCoverUrl:
                    type: string
                    description: 视频封面URL
                awemeDesc:
                    type: string
                    description: 视频描述
                awemePubTime:
                    type: string
                    description: 视频发布时间
                    format: date-time
                awemeShareUrl:
                    type: string
                    description: 视频分享链接
                durationStr:
                    type: string
                    description: 视频时长字符串
                awemeScoreStr:
                    type: string
                    description: 视频分数字符串
                goodsId:
                    type: string
                    description: |-
                        商品信息
                         商品ID
                goodsTitle:
                    type: string
                    description: 商品标题
                goodsCoverUrl:
                    type: string
                    description: 商品封面URL
                goodsPriceRange:
                    type: string
                    description: 商品价格区间
                goodsPrice:
                    type: number
                    description: 商品价格
                    format: double
                cosRatio:
                    type: string
                    description: 成本比例
                commissionPrice:
                    type: string
                    description: 佣金金额
                shopName:
                    type: string
                    description: 店铺名称
                brandName:
                    type: string
                    description: 品牌名称
                categoryNames:
                    type: string
                    description: 商品类目
                bloggerId:
                    type: integer
                    description: |-
                        博主信息
                         博主ID
                    format: int32
                bloggerUid:
                    type: string
                    description: 博主UID
                bloggerName:
                    type: string
                    description: 博主昵称
                bloggerAvatar:
                    type: string
                    description: 博主头像
                bloggerFansNum:
                    type: integer
                    description: 博主粉丝数
                    format: int32
                bloggerTag:
                    type: string
                    description: 博主标签
                salesCountStr:
                    type: string
                    description: |-
                        榜单统计
                         销量字符串
                totalSalesStr:
                    type: string
                    description: 累计销量字符串
                likeCountIncStr:
                    type: string
                    description: 点赞增量字符串
                playCountIncStr:
                    type: string
                    description: 播放增量字符串
                rawJson:
                    type: string
                    description: |-
                        元数据
                         原始元数据JSON
            description: 榜单视频榜结构
        .VideoRankQueryRequest:
            type: object
            properties:
                awemeId:
                    type: string
                rankType:
                    type: string
                rankDate:
                    type: string
            description: VideoRank 查询请求参数
        .VideoRankQueryResponse:
            type: object
            properties:
                rank:
                    $ref: '#/components/schemas/.VideoRankDTO'
            description: VideoRank 查询响应
tags:
    - name: VideoRank
